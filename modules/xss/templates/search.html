<!-- templates/search.html -->
{% extends "base.html" %}
{% block content %}
<h2>Reflected XSS â€” Search demo</h2>
<form method="get" action="{{ url_for('search') }}">
  <label>Search query: <input name="q" value="{{ q }}"></label>
  <button>Search</button>
</form>

<h3>Search results</h3>
<ul>
  {# WARNING: We intentionally use |safe below to show how unescaped output leads to XSS #}
  {% for r in results %}
    <li>{{ r|safe }}</li>
  {% endfor %}
</ul>

<p>Try passing script in the `q` parameter, e.g. <code>?q=&lt;script&gt;alert('reflected')&lt;/script&gt;</code></p>
{% endblock %}
